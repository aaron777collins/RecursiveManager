# Authentication Fix - 2026-01-24

## Issue
RecursiveManager was unable to authenticate with the AICEO GLM Gateway due to incorrect API key configuration.

## Root Cause
The `.env` file had duplicate `AICEO_GATEWAY_API_KEY` entries with different values:
- Line 49: `your-shared-secret-placeholder` (placeholder value)
- Line 87: `d15e271b26fef98ef29967540116a1c23be1815682d4252a410d4d5c003a782b` (old hash)

Neither matched the actual AICEO gateway API key: `recursive-manager-gateway-key-2024`

## Fix Applied

Updated `/home/ubuntu/repos/RecursiveManager/.env`:

```diff
- AICEO_GATEWAY_API_KEY=your-shared-secret-placeholder
+ AICEO_GATEWAY_API_KEY=recursive-manager-gateway-key-2024
```

And removed the duplicate entry at line 87.

## Verification

Tested with curl:
```bash
curl -X POST http://localhost:4000/api/glm/submit \
  -H "Content-Type: application/json" \
  -H "x-api-key: recursive-manager-gateway-key-2024" \
  -d '{
    "messages": [{"role": "user", "content": "test"}],
    "provider": "glm",
    "model": "glm-4.7",
    "priority": "high",
    "maxTokens": 50,
    "source": "recursivemanager",
    "sourceId": "test-123"
  }'
```

**Result:** ✅ Authentication successful
- Request was accepted and queued (waitTime: 571ms)
- Error was from GLM API quota, not authentication
- Proves the gateway is accessible and auth is working

## Status
✅ **FIXED** - RecursiveManager can now authenticate with AICEO GLM Gateway

## Note
The GLM API account currently has insufficient credits (`余额不足`), but this is separate from the authentication issue which is now resolved.
